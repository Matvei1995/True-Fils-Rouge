{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { globalStyles } from \"../Style/globalFont\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { EditProfilePicture } from \"./EditProfilePicture\";\nimport { ArticlePreview } from \"./ArticlePreview\";\nimport { PastTrades } from \"./PastTrades\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function ProfileScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    profile = _useState2[0],\n    setProfile = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    articles = _useState4[0],\n    setArticles = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    trades = _useState6[0],\n    setTrades = _useState6[1];\n  var _useState7 = useState(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isLoading = _useState8[0],\n    setIsLoading = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    error = _useState10[0],\n    setError = _useState10[1];\n  useEffect(function () {\n    var fetchProfileData = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        setIsLoading(true);\n        try {\n          var token = yield AsyncStorage.getItem('userToken');\n          if (!token) {\n            navigation.navigate('SignInScreen');\n            return;\n          }\n          var profileResponse = yield axios.get('http://localhost:5001/api/users/profile', {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          var articlesResponse = yield axios.get(`http://localhost:5001/api/articles/user/${profileResponse.data._id}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          var tradesResponse = yield axios.get(`http://localhost:5001/api/trades/user/${profileResponse.data._id}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setProfile(profileResponse.data);\n          setArticles(articlesResponse.data);\n          setTrades(tradesResponse.data);\n        } catch (err) {\n          var _err$response, _err$response2;\n          console.error('Erreur lors de la récupération des données :', ((_err$response = err.response) == null ? void 0 : _err$response.data) || err.message);\n          setError('Une erreur est survenue lors du chargement de votre profil.');\n          if (((_err$response2 = err.response) == null ? void 0 : _err$response2.status) === 401) navigation.navigate('SignInScreen');\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function fetchProfileData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchProfileData();\n  }, []);\n  var handleEditProfile = function handleEditProfile() {\n    setIsEditing(true);\n    navigation.navigate('EditProfile', {\n      profile: profile\n    });\n  };\n  var handleDeleteProfile = function handleDeleteProfile() {\n    Alert.alert('Suppression du profil', 'Êtes-vous sûr de vouloir supprimer votre profil ?', [{\n      text: 'Annuler',\n      style: 'cancel'\n    }, {\n      text: 'Supprimer',\n      style: 'destructive',\n      onPress: function () {\n        var _onPress = _asyncToGenerator(function* () {\n          try {\n            yield axios.delete('http://localhost:5001/api/users/profile', {\n              headers: {\n                Authorization: `Bearer ${yield AsyncStorage.getItem('userToken')}`\n              }\n            });\n            navigation.navigate('SignInScreen');\n          } catch (error) {\n            console.error('Erreur lors de la suppression du profil :', error);\n            Alert.alert('Erreur', \"La suppression du profile a échoué\");\n          }\n        });\n        function onPress() {\n          return _onPress.apply(this, arguments);\n        }\n        return onPress;\n      }()\n    }]);\n  };\n  var handleLogout = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        yield AsyncStorage.removeItem('userToken');\n        navigation.navigate('SignInScreen');\n      } catch (error) {\n        console.error('Erreur lors de la déconnexion:', error);\n      }\n    });\n    return function handleLogout() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  if (isLoading) {\n    return _jsx(ActivityIndicator, {\n      size: \"large\",\n      color: \"#0000ff\"\n    });\n  }\n  if (error) {\n    return _jsx(Text, {\n      style: styles.errorText,\n      children: error\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"Mon Profil\"\n      }), _jsxs(View, {\n        style: styles.icons,\n        children: [!isEditing && _jsx(TouchableOpacity, {\n          onPress: handleEditProfile,\n          children: _jsx(Ionicons, {\n            name: \"create-outline\",\n            size: 24,\n            color: \"black\"\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: handleDeleteProfile,\n          children: _jsx(Ionicons, {\n            name: \"trash-outline\",\n            size: 24,\n            color: \"red\"\n          })\n        })]\n      })]\n    }), _jsxs(ScrollView, {\n      contentContainerStyle: styles.scrollContent,\n      children: [profile && _jsxs(View, {\n        style: styles.profileInfo,\n        children: [profile.profileImage ? _jsx(Image, {\n          source: {\n            uri: profile.profileImage\n          },\n          style: styles.profilePic\n        }) : _jsx(Image, {\n          source: require(\"../assets/profile-pic.jpg\"),\n          style: styles.profilePic\n        }), _jsxs(View, {\n          style: styles.profileDetails,\n          children: [_jsx(Text, {\n            style: styles.name,\n            children: profile.name\n          }), _jsx(Text, {\n            style: styles.city,\n            children: profile.city\n          }), _jsx(Text, {\n            style: styles.email,\n            children: profile.email\n          })]\n        })]\n      }), articles.length > 0 ? _jsx(View, {\n        style: styles.articlesGrid,\n        children: articles.map(function (article, index) {\n          return _jsx(ArticlePreview, {\n            article: article\n          }, index);\n        })\n      }) : _jsx(Text, {\n        children: \"Aucun article disponible\"\n      }), trades.length > 0 ? _jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Trocs pass\\xE9s:\"\n        }), trades.map(function (trade, index) {\n          return _jsx(View, {}, index);\n        })]\n      }) : _jsx(Text, {\n        children: \"Aucun troc pass\\xE9 disponible\"\n      })]\n    }), _jsxs(View, {\n      style: styles.bottomNavBar,\n      children: [_jsx(Pressable, {\n        style: styles.iconButton,\n        onPress: function onPress() {\n          return navigation.navigate('Welcome');\n        },\n        children: _jsx(Ionicons, {\n          name: \"home-outline\",\n          size: 24,\n          color: \"black\"\n        })\n      }), _jsxs(Pressable, {\n        style: styles.iconButton,\n        onPress: handleLogout,\n        children: [_jsx(Ionicons, {\n          name: \"log-out-outline\",\n          size: 24,\n          color: \"red\"\n        }), \" \"]\n      })]\n    })]\n  });\n}\n;","map":{"version":3,"names":["React","useEffect","useState","View","Text","Image","StyleSheet","ScrollView","ActivityIndicator","Alert","axios","AsyncStorage","globalStyles","Ionicons","EditProfilePicture","ArticlePreview","PastTrades","jsx","_jsx","jsxs","_jsxs","ProfileScreen","_ref","route","navigation","_useState","_useState2","_slicedToArray","profile","setProfile","_useState3","_useState4","articles","setArticles","_useState5","_useState6","trades","setTrades","_useState7","_useState8","isLoading","setIsLoading","_useState9","_useState10","error","setError","fetchProfileData","_ref2","_asyncToGenerator","token","getItem","navigate","profileResponse","get","headers","Authorization","articlesResponse","data","_id","tradesResponse","err","_err$response","_err$response2","console","response","message","status","apply","arguments","handleEditProfile","setIsEditing","handleDeleteProfile","alert","text","style","onPress","_onPress","delete","handleLogout","_ref3","removeItem","size","color","styles","errorText","children","container","header","title","icons","isEditing","TouchableOpacity","name","contentContainerStyle","scrollContent","profileInfo","profileImage","source","uri","profilePic","require","profileDetails","city","email","length","articlesGrid","map","article","index","trade","bottomNavBar","Pressable","iconButton"],"sources":["/Users/matveitabelev/Desktop/TROQUANTE/MonProjet/components/ProfileScreen.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, Image, StyleSheet, ScrollView, ActivityIndicator, Alert } from 'react-native';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { globalStyles } from '../Style/globalFont';\nimport { Ionicons } from '@expo/vector-icons';\nimport { EditProfilePicture } from './EditProfilePicture';\nimport { ArticlePreview } from './ArticlePreview'; // Assurez-vous d'avoir ce composant\nimport { PastTrades } from './PastTrades';    // Assurez-vous d'avoir ce composant\n\nexport function ProfileScreen({ route, navigation }) {\n  const [profile, setProfile] = useState(null);\n  const [articles, setArticles] = useState([]);\n  const [trades, setTrades] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null); // Ajoutez un état pour les erreurs\n\n  useEffect(() => {\n    const fetchProfileData = async () => {\n      setIsLoading(true);\n\n      try {\n        const token = await AsyncStorage.getItem('userToken');\n        if (!token) {\n          // Rediriger vers la connexion si aucun token n'est trouvé\n          navigation.navigate('SignInScreen');\n          return;\n        }\n\n        const profileResponse = await axios.get('http://localhost:5001/api/users/profile', {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        const articlesResponse = await axios.get(`http://localhost:5001/api/articles/user/${profileResponse.data._id}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        const tradesResponse = await axios.get(`http://localhost:5001/api/trades/user/${profileResponse.data._id}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        setProfile(profileResponse.data);\n        setArticles(articlesResponse.data);\n        setTrades(tradesResponse.data);\n\n      } catch (err) {\n        console.error('Erreur lors de la récupération des données :', err.response?.data || err.message);\n        setError('Une erreur est survenue lors du chargement de votre profil.'); // Message d'erreur générique\n        // Optionnel: vous pouvez rediriger vers la page de connexion en cas d'erreur d'authentification\n        if(err.response?.status===401) navigation.navigate('SignInScreen');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchProfileData();\n  }, []); \n\n  const handleEditProfile = () => {\n    setIsEditing(true);\n    navigation.navigate('EditProfile', { profile });\n  };\n\n  const handleDeleteProfile = () => {\n    Alert.alert(\n      'Suppression du profil',\n      'Êtes-vous sûr de vouloir supprimer votre profil ?',\n      [\n        { text: 'Annuler', style: 'cancel' },\n        {\n          text: 'Supprimer',\n          style: 'destructive',\n          onPress: async () => {\n            try {\n              await axios.delete('http://localhost:5001/api/users/profile', {\n                headers: { Authorization: `Bearer ${await AsyncStorage.getItem('userToken')}` },\n              });\n              navigation.navigate('SignInScreen');\n            } catch (error) {\n              console.error('Erreur lors de la suppression du profil :', error);\n              Alert.alert('Erreur', \"La suppression du profile a échoué\");\n            }\n          },\n        },\n      ]\n    );\n  };\n\n  const handleLogout = async () => {\n    try {\n      await AsyncStorage.removeItem('userToken');\n      navigation.navigate('SignInScreen');\n    } catch (error) {\n      console.error('Erreur lors de la déconnexion:', error);\n      // Gestion des erreurs (afficher un message d'erreur à l'utilisateur)\n    }\n  };\n\n\n  if (isLoading) {\n    return <ActivityIndicator size=\"large\" color=\"#0000ff\" />;\n  }\n\n  if (error) {\n    return <Text style={styles.errorText}>{error}</Text>; // Afficher l'erreur\n  }\n\n\n  return (\n    <View style={styles.container}>\n      {/* Header */}\n      <View style={styles.header}>\n        <Text style={styles.title}>Mon Profil</Text>\n        <View style={styles.icons}>\n          {!isEditing && ( \n            <TouchableOpacity onPress={handleEditProfile}>\n              <Ionicons name=\"create-outline\" size={24} color=\"black\" />\n            </TouchableOpacity>\n          )}\n          <TouchableOpacity onPress={handleDeleteProfile}>\n            <Ionicons name=\"trash-outline\" size={24} color=\"red\" />\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        {/* Informations du profil */}\n        {profile && (\n          <View style={styles.profileInfo}>\n            {profile.profileImage ? ( \n              <Image source={{ uri: profile.profileImage }} style={styles.profilePic} />\n            ) : (\n              <Image source={require('../assets/profile-pic.jpg')} style={styles.profilePic} />\n            )} \n            <View style={styles.profileDetails}>\n              <Text style={styles.name}>{profile.name}</Text>\n              <Text style={styles.city}>{profile.city}</Text>\n              <Text style={styles.email}>{profile.email}</Text>\n            </View>\n          </View>\n        )}\n         \n\n        {/* Articles */}\n        {articles.length > 0 ? (\n          <View style={styles.articlesGrid}>\n            {articles.map((article, index) => (\n              <ArticlePreview key={index} article={article} />\n            ))}\n          </View>\n        ) : (\n          <Text>Aucun article disponible</Text>\n        )}\n\n        {/* Trocs passés */}\n        {trades.length > 0 ? (\n          <View>\n            <Text>Trocs passés:</Text>\n            {trades.map((trade, index) => (\n              <View key={index}>\n                {/* <Text>{trade.details}</Text> */}\n              </View>\n            ))}\n          </View>\n        ) : (\n          <Text>Aucun troc passé disponible</Text>\n        )}\n      </ScrollView>\n\n      {/* Barre de navigation inférieure */}\n      <View style={styles.bottomNavBar}>\n        <Pressable style={styles.iconButton} onPress={() => navigation.navigate('Welcome')}>\n          <Ionicons name=\"home-outline\" size={24} color=\"black\" />\n        </Pressable>\n        <Pressable style={styles.iconButton} onPress={handleLogout}>\n          <Ionicons name=\"log-out-outline\" size={24} color=\"red\" /> {/* Icône de déconnexion */}\n        </Pressable>\n      </View>\n    </View>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}